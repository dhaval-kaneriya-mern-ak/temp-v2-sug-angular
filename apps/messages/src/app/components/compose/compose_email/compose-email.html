<div class="compose-container">
  @if (showRadioButtons) {
  <div class="radio-selection">
    <sug-ui-radio-checkbox-button
      type="radio"
      name="size"
      [options]="radioOptions"
      inputId="size-selection"
      [(value)]="selectedValue"
      (changeEvent)="handleSelection($event)"
    ></sug-ui-radio-checkbox-button>
  </div>
  } @if (!showRadioButtons) {
  <div>
    @switch (selectedValue) { @case ('emailoptionone') {
    <div class="email-form-section">
      <h3>
        Invite People to Sign Up
        <sug-ui-tooltip
          [text]="'Click to learn more about composing messages.'"
          [position]="'bottom'"
          [tooltipClass]="'custom-tooltip'"
          [tooltipOptions]="{ showDelay: 200, autoHide: true, tooltipEvent: 'hover' }"
        >
          <p-button variant="text" size="small" (click)="openHelpDialog()"
            ><i class="pi pi-question-circle info-icon"></i>
          </p-button>
        </sug-ui-tooltip>
      </h3>
      <form>
        <div class="form-wrapper">
          <label for="signup-links">Sign Up Link(s)</label>
          <sug-ui-button
            type="button"
            class="add-link-btn"
            icon=""
            label="Select Sign Ups"
            (buttonClick)="openDialog()"
          ></sug-ui-button>
        </div>
        <div class="form-wrapper">
          <label for="from-email">From</label>
          <input
            type="email"
            placeholder="Enter sender email address"
            id="from-email"
          />
        </div>
        <div class="form-wrapper">
          <label for="reply-to">Reply To</label>
          <sug-ui-multi-select-dropdown
            id="reply-to"
            [options]="selectOptions"
          ></sug-ui-multi-select-dropdown>
        </div>
        <div class="form-wrapper">
          <label for="to-people">To</label>
          <sug-ui-button
            type="button"
            class="add-link-btn"
            icon=""
            label="Select People"
            (buttonClick)="openPeopleDialog()"
          ></sug-ui-button>
        </div>
        <div class="form-wrapper">
          <label for="from-subject">Subject</label>
          <input
            type="text"
            placeholder="Enter email subject"
            id="from-subject"
          />
        </div>
        <div class="form-wrapper">
          <label for="from-message">Message</label>
          <textarea
            id="from-message"
            placeholder="Type your message here..."
          ></textarea>
        </div>
        <div class="form-wrapper">
          <label for="attachments">Attachments</label>
          <sug-ui-button
            type="button"
            class="add-link-btn"
            icon="pi pi-paperclip"
            label="Add Attachments"
            (buttonClick)="openSelectFileDialog()"
          ></sug-ui-button>
        </div>
        <div class="btn-wrapper">
          <sug-ui-button
            severity="success"
            [outlined]="false"
            class="send-btn"
            icon=""
            label="Preview & Send"
          ></sug-ui-button>
          <sug-ui-button
            severity="secondary"
            class="draft-btn"
            icon=""
            label="Save Draft"
          ></sug-ui-button>
        </div>
      </form>
    </div>
    } @case ('emailoptiontwo') {
    <div class="email-form-section email-form-people">
      <h3>
        Email People Participating in a Sign Up
        <sug-ui-tooltip
          [text]="'Click to learn more about composing messages.'"
          [position]="'bottom'"
          [tooltipClass]="'custom-tooltip'"
          [tooltipOptions]="{ showDelay: 200, autoHide: true, tooltipEvent: 'hover' }"
        >
          <p-button variant="text" size="small" (click)="openHelpDialog()">
            <i class="pi pi-question-circle info-icon"></i>
          </p-button>
        </sug-ui-tooltip>
      </h3>
      <form>
        <div class="form-wrapper">
          <label for="signup-links">Sign Up Link(s)</label>
          <sug-ui-button
            type="button"
            class="add-link-btn"
            icon=""
            label="Select Sign Ups"
            (buttonClick)="openDialog()"
          ></sug-ui-button>
        </div>
        <div class="form-wrapper">
          <label for="from-email">From</label>
          <input
            type="email"
            placeholder="Enter sender email address"
            id="from-email"
          />
        </div>
        <div class="form-wrapper">
          <label for="reply-to">Reply To</label>
          <sug-ui-multi-select-dropdown
            id="reply-to"
            [options]="selectOptions"
          ></sug-ui-multi-select-dropdown>
        </div>
        <div class="form-wrapper">
          <label for="to-people">To</label>
          <sug-ui-button
            type="button"
            class="add-link-btn"
            icon=""
            label="Select People"
            (buttonClick)="openPeopleSendMessageDialog()"
          ></sug-ui-button>
        </div>
        <div class="form-wrapper">
          <label for="from-subject">Subject</label>
          <input
            type="text"
            placeholder="Enter email subject"
            id="from-subject"
          />
        </div>
        <div class="form-wrapper">
          <label for="from-message">Message</label>
          <textarea
            id="from-message"
            placeholder="Type your message here..."
          ></textarea>
        </div>
        <div class="form-wrapper">
          <label for="attachments">Attachments</label>
          <sug-ui-button
            type="button"
            class="add-link-btn"
            icon="pi pi-paperclip"
            label="Add Attachments"
            (buttonClick)="openSelectFileDialog()"
          ></sug-ui-button>
        </div>
        <div class="btn-wrapper">
          <sug-ui-button
            severity="success"
            [outlined]="false"
            class="send-btn"
            icon=""
            label="Preview & Send"
          ></sug-ui-button>
          <sug-ui-button
            severity="secondary"
            class="draft-btn"
            icon=""
            label="Save Draft"
          ></sug-ui-button>
        </div>
      </form>
    </div>
    } }
    <button (click)="showOptionsAgain()" class="back-btn">
      <i class="pi pi-arrow-left"></i> Back
    </button>
  </div>
  }
</div>
<!-- Help Dialog -->
<sug-ui-dialog
  [config]="helpDialogConf"
  [(visible)]="isHelpDialogVisible"
  [showFooter]="true"
>
  <h2 slot="header">Help: Invite People to a Sign Up</h2>
  <div class="help-dialog-content">
    <p>
      Ready to open the sign up floodgates? Use this page to invite new people
      to your sign up page by email and get the participation flowing!
    </p>
    <h4>
      Will SignUpGenius send out one email to everyone or individual emails?
    </h4>
    <p>
      We'll send out individual emails to each of your invitees. Your invitees
      will not know the email addresses of anyone else you invite. You'll be
      able to confirm that each email was delivered in the "Sent" tab of our
      Messages area.
    </p>
    <h4>Do I need to include a link to my sign up in the message I write?</h4>
    <p>
      Nope. We make it easy and include that link for you in the email right
      underneath the message that you compose. To select which sign up the email
      links to, click the "Select Sign Ups" button in the form. If you've
      already selected a sign up, you can change it by clicking the orange
      pencil icon next to the name of the sign up.
    </p>
    <span>DID YOU KNOW...</span>
    <p>
      SignUpGenius Pro customers can send one email to invite users to multiple
      sign ups at once or invite them to a group of tabbed sign ups. Learn more
      about SignUpGenius Pro <a href="">here.</a>
    </p>
    <h4>Who will the email come from?</h4>
    <p>
      For basic users, when an invitee receives your email, the "from" name in
      your invitee's email program will show the name that is on your account as
      the sign up creator. To ensure we comply with spam regulations, the email
      will come from info@signupgenius.com, but if a user replies to the
      message, the reply will go to your email address.
    </p>
    <span>DID YOU KNOW...</span>
    <p>
      SignUpGenius Pro customers have the ability to customize the "from" name
      (useful if you are writing on behalf of an organization) and can have
      replies directed to multiple account admins. To set up your account
      admins, visit the "Pro Tools" area of your account page. Learn more about
      SignUpGenius Pro <a href="">here.</a>
    </p>
    <h4>How do I select the people I want to invite?</h4>
    <p>
      We provide lots of options so you can invite as many or as few people as
      you'd like. If you haven't worked with SignUpGenius previously, you can
      manually enter emails or import a list of emails from a variety of popular
      formats. If you've used SignUpGenius before, you can select an existing
      group of users to send out your invites. Emails that you enter manually or
      import will automatically be added to the group associated with your sign
      up so that you can use the list again in the future.
    </p>
    <span>DID YOU KNOW...</span>
    <p>
      SignUpGenius Pro customers can send messages and invites to multiple email
      groups at once and can include attachments in their emails. Learn more
      about SignUpGenius Pro <a href="">here.</a>
    </p>
  </div>
  <div
    slot="footer"
    class="d-flex justify-content-center align-items-center w-100"
  >
    <sug-ui-button
      label="Okay"
      icon=""
      [rounded]="false"
      [size]="'large'"
      [severity]="'success'"
      [outlined]="false"
      (buttonClick)="closeHelpDialog()"
    ></sug-ui-button>
  </div>
</sug-ui-dialog>
<!-- Signup Links -->
<sug-ui-dialog
  [config]="dialogConf"
  [(visible)]="isVisible"
  [showFooter]="true"
>
  <h2 slot="header">Sign Up Links</h2>
  <p>Select which sign ups should be sent as links in the message.</p>
  <div class="dialog-content">
    <sug-ui-radio-checkbox-button
      type="radio"
      name="dialogRadio"
      [(value)]="dialogSelectedValue"
      [options]="[{ label: 'Link to specific sign up(s)', value: 'dialogemailoptionone' }]"
    >
    </sug-ui-radio-checkbox-button>

    @if (dialogSelectedValue === 'dialogemailoptionone') {
    <div class="signup-radio-content">
      <sug-ui-multi-select-dropdown
        id="signup-select"
        [options]="signUpOptions"
      >
      </sug-ui-multi-select-dropdown>
    </div>
    }

    <sug-ui-radio-checkbox-button
      type="radio"
      name="dialogRadio"
      [(value)]="dialogSelectedValue"
      [options]="[{ label: 'Link to my main account', value: 'dialogemailoptiontwo' }]"
    >
    </sug-ui-radio-checkbox-button>

    @if (dialogSelectedValue === 'dialogemailoptiontwo') {
    <div class="signup-tooltip-content">
      <a data-ng-click="previewAcctIndex()" class="link-button"
        >Sign Up Index Page
        <sug-ui-tooltip
          [text]="'You can provide a link to a page that displays all your sign ups. The sign ups displayed on your Account Index Page will change over time depending on which of your sign ups are active (i.e. the event is not over)'"
          [position]="'bottom'"
          [tooltipClass]="'custom-tooltip'"
          [tooltipOptions]="{ showDelay: 200, autoHide: true, tooltipEvent: 'hover' }"
        >
          <button class="info-button">
            <i class="pi pi-question-circle"></i>
          </button>
        </sug-ui-tooltip>
      </a>
    </div>
    }
  </div>

  <div
    slot="footer"
    class="d-flex justify-content-center align-items-center w-100"
  >
    <sug-ui-button
      label="Okay"
      icon=""
      [rounded]="false"
      [size]="'large'"
      [severity]="'success'"
      [outlined]="false"
      (buttonClick)="closeDialog()"
    ></sug-ui-button>
  </div>
</sug-ui-dialog>
<!-- Select People first -->
<sug-ui-dialog
  [config]="peopleDialogConf"
  [(visible)]="isPeopleDialogVisible"
  [showFooter]="true"
>
  <h2 slot="header">Send this message to...</h2>
  <div class="dialog-content">
    @for (option of sendMessageRadioOptions; track option.value) {
    <div class="radio-option-wrapper">
      <sug-ui-radio-checkbox-button
        type="radio"
        name="sendMessageRadioGroup"
        [(value)]="peopleSendMessageSelectedValue"
        [options]="[{ label: option.label, value: option.value }]"
      >
      </sug-ui-radio-checkbox-button>

      @if (peopleSendMessageSelectedValue === option.value) {
      <div class="radio-content-panel">
        @switch (option.value) { @case ('sendMessageRadioOne') {
        <div class="signup-radio-content send-msg-dialog-content">
          <sug-ui-multi-select-dropdown
            id="signup-select"
            [options]="sendMessageSelectOne"
          >
          </sug-ui-multi-select-dropdown>
          <sug-ui-radio-checkbox-button
            type="checkbox"
            inputId="group-checkbox"
            [(value)]="includeNonGroupMembers"
          >
            Also include people that signed up but are not in the group(s)
          </sug-ui-radio-checkbox-button>
        </div>
        } @case ('sendMessageRadioTwo') {
        <div class="signup-radio-content send-msg-dialog-content">
          <div class="form-wrapper">
            <label for="group-alias">Assign the email entries to</label>
            <sug-ui-multi-select-dropdown
              id="signup-select"
              [maxSelection]="1"
              [options]="sendMessageSelectTwo"
            >
            </sug-ui-multi-select-dropdown>
          </div>
          <div class="form-wrapper">
            <label for="group-alias"
              >Enter emails separated by commas or line breaks.</label
            >
            <textarea
              placeholder="example@signupgenius.com, example@signupgenius.com"
            ></textarea>
          </div>
          <sug-ui-radio-checkbox-button
            type="checkbox"
            inputId="email-checkbox"
            [(value)]="useGroupAlias"
          >
            I need to enter a group email alias
          </sug-ui-radio-checkbox-button>
        </div>
        } @case ('sendMessageRadioThree') {
        <div class="signup-radio-content send-msg-dialog-content">
          <div class="social-btn-wrapper">
            <sug-ui-button
              type="button"
              class="social-btn"
              icon="pi pi-envelope"
            ></sug-ui-button>
            <sug-ui-button
              type="button"
              class="social-btn"
              icon="pi pi-cloud"
            ></sug-ui-button>
            <sug-ui-button
              type="button"
              class="social-btn"
              icon="pi pi-microsoft"
            ></sug-ui-button>
            <sug-ui-button
              type="button"
              class="social-btn email"
              icon="pi pi-envelope"
            ></sug-ui-button>
            <sug-ui-button
              type="button"
              class="social-btn email"
              icon="pi pi-envelope"
            ></sug-ui-button>
            <sug-ui-button
              type="button"
              class="social-btn email"
              icon="pi pi-file"
            ></sug-ui-button>
          </div>
        </div>
        } }
      </div>
      }
    </div>
    }
  </div>
  <div
    slot="footer"
    class="d-flex justify-content-center align-items-center w-100"
  >
    <sug-ui-button
      label="Okay"
      icon=""
      [rounded]="false"
      [size]="'large'"
      [severity]="'success'"
      [outlined]="false"
      (buttonClick)="closePeopleDialog()"
    ></sug-ui-button>
  </div>
</sug-ui-dialog>
<!-- Select People Send message -->
<sug-ui-dialog
  [config]="peopleSendMessageDialogConf"
  [(visible)]="isPeopleSendMessageDialogVisible"
  [showFooter]="true"
>
  <h2 slot="header">Send this message to...</h2>
  <div class="dialog-content">
    @for (option of sendMessagePeopleRadioOptions; track option.value) {
    <div class="radio-option-wrapper">
      <sug-ui-radio-checkbox-button
        type="radio"
        name="peopleSendMessageRadioGroup"
        [(value)]="peopleSendMessageSelectedValue"
        [options]="[{ label: option.label, value: option.value }]"
      >
      </sug-ui-radio-checkbox-button>

      @if (peopleSendMessageSelectedValue === option.value) {
      <div class="radio-content-panel">
        @switch (option.value) { @case ('sendMessagePeopleRadioThree') {
        <div class="signup-radio-content send-msg-dialog-content">
          <div class="form-wrapper">
            <sug-ui-multi-select-dropdown
              id="signup-select"
              [maxSelection]="1"
              [options]="sendMessageSelectTwo"
            >
            </sug-ui-multi-select-dropdown>
            <sug-ui-radio-checkbox-button
              type="checkbox"
              inputId="send-checkbox"
              [(value)]="includeNonGroupMembersForPeople"
            >
              Also include people that signed up but are not in the group(s)
            </sug-ui-radio-checkbox-button>
          </div>
        </div>
        } @case ('sendMessagePeopleRadioFour') {
        <div class="signup-radio-content send-msg-dialog-content">
          <div class="btn-wrapper">
            <sug-ui-button
              type="button"
              class="add-link-btn"
              icon=""
              label="From my groups"
              (buttonClick)="openFromMyGroupsDialog()"
            >
            </sug-ui-button>
            <sug-ui-button
              type="button"
              class="add-link-btn"
              icon=""
              label="From this sign up"
              (buttonClick)="openFromThisSignUpDialog()"
            >
            </sug-ui-button>
          </div>
        </div>
        } }
      </div>
      }
    </div>
    }
  </div>
  <div
    slot="footer"
    class="d-flex justify-content-center align-items-center w-100"
  >
    <sug-ui-button
      label="Okay"
      icon=""
      [rounded]="false"
      [size]="'large'"
      [severity]="'success'"
      [outlined]="false"
      (buttonClick)="closePeopleSendMessageDialog()"
    ></sug-ui-button>
  </div>
</sug-ui-dialog>
<!-- Select File -->
<sug-ui-dialog
  [config]="selectFileDialogConf"
  [(visible)]="isSelectFileDialogVisible"
  [showFooter]="true"
>
  <h2 slot="header">Select File</h2>
  <div class="dialog-content">
    <div class="file-selection-wrap">
      <span
        ><i class="pi pi-folder-open" aria-hidden="true"></i> GeniusDrive</span
      >
      <sug-ui-radio-checkbox-button
        type="radio"
        name="dialogRadio"
        [options]="selectFileRadioOptions"
        inputId="dialog-radio-selection"
        [(value)]="dialogSelectedValue"
        (changeEvent)="handleDialogSelection($event)"
      ></sug-ui-radio-checkbox-button>
      <div class="btn-wrapper">
        <sug-ui-button
          severity="success"
          [outlined]="false"
          class="send-btn"
          icon=""
          label="Select"
          (buttonClick)="closeSelectFileDialog()"
        ></sug-ui-button>
      </div>
    </div>
  </div>
</sug-ui-dialog>
<!-- From My Groups Dialog -->
<sug-ui-dialog
  [config]="fromMyGroupsDialogConf"
  [(visible)]="isFromMyGroupsDialogVisible"
  [showFooter]="true"
>
  <h2 slot="header">Custom Select People All Groups</h2>
  <div class="dialog-content">
    <sug-ui-table
      [data]="tableData"
      [columns]="tableColumns"
      [paginator]="true"
      [rows]="10"
      selectionMode="multiple"
      [globalFilterFields]="['fName', 'lName', 'email', 'group']"
      (sort)="onSort()"
      (page)="onPage()"
    >
    </sug-ui-table>
  </div>
  <div
    slot="footer"
    class="d-flex justify-content-center align-items-center w-100"
  >
    <sug-ui-button
      severity="success"
      [outlined]="false"
      class="send-btn"
      icon=""
      label="Ok"
      (buttonClick)="closeSelectFileDialog()"
    ></sug-ui-button>
  </div>
</sug-ui-dialog>
<!-- From This Sign Up Dialog -->
<sug-ui-dialog
  [config]="fromThisSignUpDialogConf"
  [(visible)]="isFromThisSignUpDialogVisible"
  [showFooter]="true"
>
  <h2 slot="header">Custom Select People from Sign Up</h2>
  <div class="dialog-content">
    <sug-ui-table
      [data]="tableSignUpData"
      [columns]="tableSignUpColumns"
      [paginator]="true"
      [rows]="10"
      selectionMode="multiple"
      [globalFilterFields]="['date', 'slots', 'signup']"
      (sort)="onSort()"
      (page)="onPage()"
    >
    </sug-ui-table>
  </div>
  <div
    slot="footer"
    class="d-flex justify-content-center align-items-center w-100"
  >
    <sug-ui-button
      label="Ok"
      icon=""
      [rounded]="false"
      [size]="'large'"
      [severity]="'success'"
      [outlined]="false"
      (buttonClick)="closeFromThisSignUpDialog()"
    ></sug-ui-button>
  </div>
</sug-ui-dialog>
